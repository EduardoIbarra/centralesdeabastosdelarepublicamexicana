<ion-header>

    <ion-navbar class="big-header-button">
        <ion-title>Afíliación</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <div text-center class="steps-label">
        <ion-title>Paso {{slideIndex+1}} de 3</ion-title>
    </div>
    <br/>
    <ion-slides paginationType="progress" pager (ionSlideDidChange)="getSlideIndex()">
        <ion-slide>
            <form [formGroup]="RegisterForm1">
                <ion-list>
                    <br/>
                    <ion-list-header text-wrap text-center class="title-border-bottom">Información Personal</ion-list-header>
                    <ion-item>
                        <ion-label floating color="secondary">Clave del Socio <span class="optional-input-label">(Opcional)</span></ion-label>
                        <ion-input type="text" formControlName="PartnerKey" [(ngModel)]="RegisterFormData.PartnerKey"
                                   [class.invalid]="!RegisterForm1.controls.PartnerKey.valid && (RegisterForm1.controls.PartnerKey.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.PartnerKey.valid"></ion-input>
                        <ion-icon item-end name="md-key" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.PartnerKey.valid  && (RegisterForm1.controls.PartnerKey.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa una clave válida</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Denominación Social</ion-label>
                        <ion-select interface="popover" formControlName="SocialDenomination" [(ngModel)]="RegisterFormData.SocialDenomination"
                                    [class.invalid]="!RegisterForm1.controls.SocialDenomination.valid && (RegisterForm1.controls.SocialDenomination.touched || submitAttemptForm1)"
                                    [class.valid]="RegisterForm1.controls.SocialDenomination.valid">
                            <ion-option value="Fiscal">Fiscal</ion-option>
                            <ion-option value="Moral">Moral</ion-option>
                        </ion-select>
                        <ion-icon item-end name="briefcase" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.SocialDenomination.valid  && (RegisterForm1.controls.SocialDenomination.touched || submitAttemptForm1)">
                        <p class="error-message">Selecciona la Denominación Social</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Representante Legal</ion-label>
                        <ion-input type="text" formControlName="LegalRepresentative" [(ngModel)]="RegisterFormData.LegalRepresentative"
                                   [class.invalid]="!RegisterForm1.controls.LegalRepresentative.valid && (RegisterForm1.controls.LegalRepresentative.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.LegalRepresentative.valid"></ion-input>
                        <ion-icon item-end name="person" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.LegalRepresentative.valid  && (RegisterForm1.controls.LegalRepresentative.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa un nombre de Representante válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">RFC</ion-label>
                        <ion-input type="text" formControlName="Rfc" [(ngModel)]="RegisterFormData.Rfc"
                                   [class.invalid]="!RegisterForm1.controls.Rfc.valid && (RegisterForm1.controls.Rfc.dirty || submitAttemptForm1) || !validRfcInput"
                                   [class.valid]="RegisterForm1.controls.Rfc.valid && validRfcInput"></ion-input>
                        <ion-icon item-end name="md-copy" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.Rfc.valid  && (RegisterForm1.controls.Rfc.dirty || submitAttemptForm1) || !validRfcInput">
                        <p class="error-message" text-wrap>Ingresa tu RFC válido correspondiente a tu denominacion social</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">CURP <span class="optional-input-label">(Opcional)</span></ion-label>
                        <ion-input type="text" formControlName="Curp" [(ngModel)]="RegisterFormData.Curp"
                                   [class.invalid]="!RegisterForm1.controls.Curp.valid && (RegisterForm1.controls.Curp.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.Curp.valid"></ion-input>
                        <ion-icon item-end name="ios-paper-outline" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.Curp.valid  && (RegisterForm1.controls.Curp.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa tu CURP válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Fecha de Nacimiento</ion-label>
                        <ion-datetime
                                displayFormat="DD/MMMM/YYYY"
                                formControlName="BirthDay"
                                cancelText="Cancelar"
                                doneText="Seleccionar"
                                [(ngModel)]="RegisterFormData.BirthDay.text"
                                [class.invalid]="!RegisterForm1.controls.BirthDay.valid && (RegisterForm1.controls.BirthDay.dirty || submitAttemptForm1)"
                                [class.valid]="RegisterForm1.controls.BirthDay.valid"></ion-datetime>
                        <ion-icon item-end name="md-calendar" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.BirthDay.valid  && (RegisterForm1.controls.BirthDay.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa ingresa tu Fecha de Nacimiento</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Sexo</ion-label>
                        <ion-select interface="popover" formControlName="Gender" [(ngModel)]="RegisterFormData.Gender"
                                    [class.invalid]="!RegisterForm1.controls.Gender.valid && (RegisterForm1.controls.Gender.touched || submitAttemptForm1)"
                                    [class.valid]="RegisterForm1.controls.Gender.valid">
                            <ion-option value="female">Femenino</ion-option>
                            <ion-option value="male">Masculino</ion-option>
                        </ion-select>
                        <ion-icon item-end name="transgender" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.Gender.valid  && (RegisterForm1.controls.Gender.touched || submitAttemptForm1)">
                        <p class="error-message">Selecciona tu Sexo</p>
                    </ion-item>


                    <ion-item>
                        <ion-label floating color="secondary">Correo Electrónico</ion-label>
                        <ion-input type="text" formControlName="Email" [(ngModel)]="RegisterFormData.Email"
                                   [class.invalid]="!RegisterForm1.controls.Email.valid && (RegisterForm1.controls.Email.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.Email.valid"></ion-input>
                        <ion-icon item-end name="md-at" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.Email.valid  && (RegisterForm1.controls.Email.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa un Correo Eléctronico valido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Teléfono Celular <span class="optional-input-label">(Diez Dígitos)</span></ion-label>
                        <ion-input type="tel" formControlName="Cellphone" [(ngModel)]="RegisterFormData.Cellphone"
                                   [class.invalid]="!RegisterForm1.controls.Cellphone.valid && (RegisterForm1.controls.Cellphone.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.Cellphone.valid"></ion-input>
                        <ion-icon item-end name="phone-portrait" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.Cellphone.valid  && (RegisterForm1.controls.Cellphone.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa un número de Teléfono válido</p>
                    </ion-item>


                    <ion-item>
                        <ion-label floating color="secondary">Telefono Casa <span class="optional-input-label">(Opcional)</span></ion-label>
                        <ion-input type="tel" formControlName="HomePhone" [(ngModel)]="RegisterFormData.HomePhone"
                                   [class.invalid]="!RegisterForm1.controls.HomePhone.valid && (RegisterForm1.controls.HomePhone.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.HomePhone.valid"></ion-input>
                        <ion-icon item-end name="call" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.HomePhone.valid  && (RegisterForm1.controls.HomePhone.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa un número de Teléfono válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Página Web <span class="optional-input-label">(opcional)</span></ion-label>
                        <ion-input type="text" formControlName="WebPage" [(ngModel)]="RegisterFormData.WebPage"
                                   [class.invalid]="!RegisterForm1.controls.WebPage.valid && (RegisterForm1.controls.WebPage.dirty || submitAttemptForm1)"
                                   [class.valid]="RegisterForm1.controls.WebPage.valid"></ion-input>
                        <ion-icon item-end name="ios-globe-outline" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm1.controls.WebPage.valid  && (RegisterForm1.controls.WebPage.dirty || submitAttemptForm1)">
                        <p class="error-message">Ingresa una Página Web</p>
                    </ion-item>

                    <ion-item>
                        <div class="valid image-input-padding">
                            <label color="secondary" ion-text >Indentificación Oficial <span class="optional-input-label">(opcional)</span></label>
                            <br/>
                            <button ion-button (tap)="openImageOptions()" *ngIf="RegisterFormData.Images.length === 0">
                                <ion-icon name="md-add-circle"></ion-icon>&nbsp;
                                Agregar
                            </button>
                            <div class="images-container" *ngIf="RegisterFormData.Images.length > 0">
                                <ion-slides pager #imagesSlider>
                                    <ion-slide *ngFor="let i of RegisterFormData.Images; let imageIndex = index">
                                        <img [src]="i">
                                        <ion-fab bottom left>
                                            <button ion-fab mini (tap)="openImageOptions()">
                                                <ion-icon name="md-add-circle"></ion-icon>
                                            </button>
                                        </ion-fab>
                                        <ion-fab bottom right>
                                            <button ion-fab mini color="danger"  (tap)="removeImage(imageIndex)">
                                                <ion-icon name="trash"></ion-icon>
                                            </button>
                                        </ion-fab>

                                    </ion-slide>
                                </ion-slides>
                            </div>
                        </div>
                        <ion-icon item-end name="camera" color="primary"></ion-icon>
                    </ion-item>
                </ion-list>
            </form>
            <br/>
            <div text-ceter>
                <button ion-button color="secondary" round (tap)="next(1)">
                    Siguiente&nbsp;
                    <ion-icon name="md-arrow-forward"></ion-icon>
                </button>
            </div>
        </ion-slide>
        <ion-slide>
            <form [formGroup]="RegisterForm2">
                <ion-list>
                    <br/>
                    <ion-list-header text-wrap text-center class="title-border-bottom"><b>Domicilio Personal</b></ion-list-header>
                    <ion-item>
                        <ion-label floating color="secondary">Domicilio Personal</ion-label>
                        <ion-input type="text" formControlName="UserAddress" [(ngModel)]="RegisterFormData.UserAddress"
                                   [class.invalid]="!RegisterForm2.controls.UserAddress.valid && (RegisterForm2.controls.UserAddress.dirty || submitAttemptForm2)"
                                   [class.valid]="RegisterForm2.controls.UserAddress.valid"></ion-input>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm2.controls.UserAddress.valid  && (RegisterForm2.controls.UserAddress.dirty || submitAttemptForm2)">
                        <p class="error-message">Ingresa un Domicilio válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Colonia</ion-label>
                        <ion-input type="text" formControlName="UserSettlement" [(ngModel)]="RegisterFormData.UserSettlement"
                                   [class.invalid]="!RegisterForm2.controls.UserSettlement.valid && (RegisterForm2.controls.UserSettlement.dirty || submitAttemptForm2)"
                                   [class.valid]="RegisterForm2.controls.UserSettlement.valid"></ion-input>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm2.controls.UserSettlement.valid  && (RegisterForm2.controls.UserSettlement.dirty || submitAttemptForm2)">
                        <p class="error-message">Ingresa una Colonia válida</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Entre Calles</ion-label>
                        <ion-textarea formControlName="UserStreets" [(ngModel)]="RegisterFormData.UserStreets"
                                      [class.invalid]="!RegisterForm2.controls.UserStreets.valid && (RegisterForm2.controls.UserStreets.dirty || submitAttemptForm2)"
                                      [class.valid]="RegisterForm2.controls.UserStreets.valid"></ion-textarea>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm2.controls.UserStreets.valid  && (RegisterForm2.controls.UserStreets.dirty || submitAttemptForm2)">
                        <p class="error-message">Ingresa las entre calles de tu domicilio</p>
                    </ion-item>


                    <ion-item>
                        <ion-label floating color="secondary">Municipio</ion-label>
                        <ion-input type="text" formControlName="UserCity" [(ngModel)]="RegisterFormData.UserCity"
                                   [class.invalid]="!RegisterForm2.controls.UserCity.valid && (RegisterForm2.controls.UserCity.dirty || submitAttemptForm2)"
                                   [class.valid]="RegisterForm2.controls.UserCity.valid"></ion-input>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm2.controls.UserCity.valid  && (RegisterForm2.controls.UserCity.dirty || submitAttemptForm2)">
                        <p class="error-message">Ingresa un Municipio válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Codigo Postal <span class="optional-input-label">(Opcional)</span></ion-label>
                        <ion-input type="tel" formControlName="UserPostalCode" [(ngModel)]="RegisterFormData.UserPostalCode"
                                   [class.invalid]="!RegisterForm2.controls.UserPostalCode.valid && (RegisterForm2.controls.UserPostalCode.dirty || submitAttemptForm2)"
                                   [class.valid]="RegisterForm2.controls.UserPostalCode.valid"></ion-input>
                        <ion-icon item-end name="ios-keypad" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm2.controls.UserPostalCode.valid  && (RegisterForm2.controls.UserPostalCode.dirty || submitAttemptForm2)">
                        <p class="error-message">Ingresa el Código Postal válido</p>
                    </ion-item>


                </ion-list>
            </form>
            <br/>

            <ion-grid no-padding>
                <ion-row>
                    <ion-col col-6 text-left>
                        <button ion-button color="secondary" round (tap)="prev()">
                            <ion-icon name="md-arrow-back"></ion-icon>
                            &nbsp;Atrás
                        </button>
                    </ion-col>
                    <ion-col col-6 text-right>
                        <button ion-button color="secondary" round (tap)="next(2)">
                            Siguiente&nbsp;
                            <ion-icon name="md-arrow-forward"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-slide>
        <ion-slide>
            <form [formGroup]="RegisterForm3">
                <ion-list>
                    <br/>
                    <ion-list-header text-wrap text-center class="title-border-bottom"><b>Domicilio Fiscal</b></ion-list-header>
                    <ion-item>
                        <ion-label floating color="secondary">Domicilio Comercial</ion-label>
                        <ion-input type="text" formControlName="BusinessAddress" [(ngModel)]="RegisterFormData.BusinessAddress"
                                   [class.invalid]="!RegisterForm3.controls.BusinessAddress.valid && (RegisterForm3.controls.BusinessAddress.dirty || submitAttemptForm3)"
                                   [class.valid]="RegisterForm3.controls.BusinessAddress.valid"></ion-input>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm3.controls.BusinessAddress.valid  && (RegisterForm3.controls.BusinessAddress.dirty || submitAttemptForm3)">
                        <p class="error-message">Ingresa un Domicilio válido</p>
                    </ion-item>


                    <ion-item>
                        <ion-label floating color="secondary">Colonia</ion-label>
                        <ion-input type="text" formControlName="BusinessSettlement" [(ngModel)]="RegisterFormData.BusinessSettlement"
                                   [class.invalid]="!RegisterForm3.controls.BusinessSettlement.valid && (RegisterForm3.controls.BusinessSettlement.dirty || submitAttemptForm3)"
                                   [class.valid]="RegisterForm3.controls.BusinessSettlement.valid"></ion-input>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm3.controls.BusinessSettlement.valid  && (RegisterForm3.controls.BusinessSettlement.dirty || submitAttemptForm3)">
                        <p class="error-message">Ingresa una Colonia válida</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Entre Calles</ion-label>
                        <ion-textarea formControlName="BusinessStreets" [(ngModel)]="RegisterFormData.BusinessStreets"
                                      [class.invalid]="!RegisterForm3.controls.BusinessStreets.valid && (RegisterForm3.controls.BusinessStreets.dirty || submitAttemptForm3)"
                                      [class.valid]="RegisterForm3.controls.BusinessStreets.valid"></ion-textarea>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm3.controls.BusinessStreets.valid  && (RegisterForm3.controls.BusinessStreets.dirty || submitAttemptForm3)">
                        <p class="error-message">Ingresa las entre calles de tu domicilio</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Municipio</ion-label>
                        <ion-input type="text" formControlName="BusinessCity" [(ngModel)]="RegisterFormData.BusinessCity"
                                   [class.invalid]="!RegisterForm3.controls.BusinessCity.valid && (RegisterForm3.controls.BusinessCity.dirty || submitAttemptForm3)"
                                   [class.valid]="RegisterForm3.controls.BusinessCity.valid"></ion-input>
                        <ion-icon item-end name="md-home" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm3.controls.BusinessCity.valid  && (RegisterForm3.controls.BusinessCity.dirty || submitAttemptForm3)">
                        <p class="error-message">Ingresa un municipio válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Codigo Postal <span class="optional-input-label">(Opcional)</span></ion-label>
                        <ion-input type="tel" formControlName="BusinessPostalCode" [(ngModel)]="RegisterFormData.BusinessPostalCode"
                                   [class.invalid]="!RegisterForm3.controls.BusinessPostalCode.valid && (RegisterForm3.controls.BusinessPostalCode.dirty || submitAttemptForm3)"
                                   [class.valid]="RegisterForm3.controls.BusinessPostalCode.valid"></ion-input>
                        <ion-icon item-end name="ios-keypad" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm3.controls.BusinessPostalCode.valid  && (RegisterForm3.controls.BusinessPostalCode.dirty || submitAttemptForm3)">
                        <p class="error-message">Ingresa el Código Postal válido</p>
                    </ion-item>

                    <ion-item>
                        <ion-label floating color="secondary">Telefono Negocio <span class="optional-input-label">(Opcional)</span></ion-label>
                        <ion-input type="tel" formControlName="BusinessPhone" [(ngModel)]="RegisterFormData.BusinessPhone"
                                   [class.invalid]="!RegisterForm3.controls.BusinessPhone.valid && (RegisterForm3.controls.BusinessPhone.dirty || submitAttemptForm3)"
                                   [class.valid]="RegisterForm3.controls.BusinessPhone.valid"></ion-input>
                        <ion-icon item-end name="call" color="primary"></ion-icon>
                    </ion-item>
                    <ion-item *ngIf="!RegisterForm3.controls.BusinessPhone.valid  && (RegisterForm3.controls.BusinessPhone.dirty || submitAttemptForm3)">
                        <p class="error-message">Ingresa un número de Teléfono válido</p>
                    </ion-item>
                </ion-list>
            </form>
            <br/>
            <ion-grid no-padding>
                <ion-row>
                    <ion-col col-4 text-left>
                        <button ion-button color="secondary" round (tap)="prev()">
                            <ion-icon name="md-arrow-back"></ion-icon>
                            &nbsp;Atrás
                        </button>
                    </ion-col>
                    <ion-col col-8 text-right>
                        <button ion-button color="secondary" round (tap)="next(3)">
                            <ion-icon name="md-done-all"></ion-icon>
                            &nbsp;Afíliarse
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-slide>
    </ion-slides>
</ion-content>